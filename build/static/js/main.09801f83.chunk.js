(this["webpackJsonptx-builder"]=this["webpackJsonptx-builder"]||[]).push([[0],{416:function(e,t){},439:function(e,t){},441:function(e,t){},511:function(e,t){},513:function(e,t){},545:function(e,t){},550:function(e,t){},552:function(e,t){},559:function(e,t){},572:function(e,t){},701:function(e,t,n){"use strict";n.r(t);var r=n(8),a=n(0),c=n(24),i=n.n(c),s=n(41),o=n(20),u=n(157);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(21),b=n.n(l),d=n(51),j=n(34),f=n(59),h=n(201),p=n(329),x=n.n(p),O=n(13),m=n(15),v=n(331),g=n.n(v),w=n(332),k=n.n(w)()(function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",g.a.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),y={MAINNET:function(e){return"https://api.etherscan.io/api?module=contract&action=getabi&address=".concat(e)},MORDEN:null,RINKEBY:function(e){return"https://api-rinkeby.etherscan.io/api?module=contract&action=getabi&address=".concat(e)},ROPSTEN:null,GOERLI:null,KOVAN:null,XDAI:function(e){return"https://blockscout.com/poa/xdai/api?module=contract&action=getabi&address=".concat(e)},ENERGY_WEB_CHAIN:function(e){return"https://explorer.energyweb.org/api?module=contract&action=getabi&address=".concat(e)},VOLTA:function(e){return"https://volta-explorer.energyweb.org/api?module=contract&action=getabi&address=".concat(e)},UNKNOWN:null},T=function(){function e(t,n){Object(O.a)(this,e),this.network=void 0,this.web3=void 0,this._isMethodPayable=function(e){return e.payable||"payable"===e.stateMutability},this.network=t,this.web3=n}return Object(m.a)(e,[{key:"_loadAbiFromBlockExplorer",value:function(){var e=Object(d.a)(b.a.mark((function e(t){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=y[this.network]){e.next=3;break}throw Error("Network: ".concat(this.network," not supported."));case 3:return e.next=5,k(n(t));case 5:if("1"===(r=e.sent).data.status){e.next=8;break}throw Error("Request not successful: ".concat(r.data.message,"; ").concat(r.data.result,"."));case 8:return e.abrupt("return",r.data.result);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"loadAbi",value:function(){var e=Object(d.a)(b.a.mark((function e(t){var n,r,a,c,i=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.web3.utils.isAddress(t)){e.next=6;break}return e.next=3,this._loadAbiFromBlockExplorer(t);case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=t;case 7:return n=e.t0,r=JSON.parse(n),a=r.filter((function(e){return!["pure","view"].includes(e.stateMutability)&&("event"!==(null===e||void 0===e?void 0:e.type.toLowerCase())&&!e.constant)})).map((function(e){return{inputs:e.inputs||[],name:e.name||("fallback"===e.type?"fallback":"receive"),payable:i._isMethodPayable(e)}})),c=r.findIndex((function(e){return"fallback"===e.type&&i._isMethodPayable(e)}))>=0,e.abrupt("return",{payableFallback:c,methods:a});case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),E={MAINNET:function(e){return"https://mainnet.infura.io/v3/".concat(e)},MORDEN:null,ROPSTEN:null,RINKEBY:function(e){return"https://rinkeby.infura.io/v3/".concat(e)},GOERLI:null,KOVAN:null,XDAI:function(){return"https://dai.poa.network"},ENERGY_WEB_CHAIN:function(){return"https://rpc.energyweb.org"},VOLTA:function(){return"https://volta-rpc.energyweb.org"},UNKNOWN:function(){return"https://bsc-dataseed.binance.org"}};function A(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: left;\n  padding: 24px;\n"]);return A=function(){return e},e}var N=s.default.div(A()),S=function(e){var t=e.children;return Object(r.jsx)(N,{children:Object(r.jsx)("div",{children:t})})};function C(){var e=Object(f.a)(["\n  button {\n    padding: 0;\n  }\n"]);return C=function(){return e},e}function z(){var e=Object(f.a)(["\n  margin-bottom: 15px;\n"]);return z=function(){return e},e}function I(){var e=Object(f.a)(["\n  margin-top: 0px;\n  margin-bottom: 5px;\n"]);return I=function(){return e},e}function B(){var e=Object(f.a)(["\n  width: 400px;\n"]);return B=function(){return e},e}function F(){var e=Object(f.a)(["\n  display: flex;\n  justify-content: space-between;\n  margin-top: 15px;\n"]);return F=function(){return e},e}var R=s.default.div(F()),M=Object(s.default)(o.Select)(B()),W=Object(s.default)(o.Title)(I()),_=Object(s.default)(o.Text)(z()),L=s.default.div(C()),D=function(e){var t=e.txs,n=e.deleteTx;return Object(r.jsx)(r.Fragment,{children:t.map((function(e,t){return Object(r.jsxs)(h.a,{display:"flex",flexDirection:"row-reverse",alignItems:"center",justifyContent:"space-between",width:"100%",children:[Object(r.jsx)(o.Button,{size:"md",variant:"outlined",iconType:"delete",color:"error",onClick:function(){return n(t)},children:""}),Object(r.jsx)(o.Text,{size:"lg",children:e.description})]},t)}))})},K=function(){var e,t=Object(u.useSafeAppsSDK)(),n=t.sdk,c=(t.safe,function(e){var t=Object(a.useState)(),n=Object(j.a)(t,2),r=n[0],c=n[1],i=Object(a.useState)(),s=Object(j.a)(i,2),o=s[0],u=s[1];return Object(a.useEffect)((function(){if(e){var t=E[e];if(!t)throw Error("RPC URL not defined for network ".concat(e));var n=t(""),r=new x.a(n),a=new T(e,r);c(r),u(a)}}),[e]),{web3:r,interfaceRepo:o}}("UNKNOWN")),i=Object(a.useState)(""),s=Object(j.a)(i,2),l=s[0],f=s[1],h=Object(a.useState)(!1),p=Object(j.a)(h,2),O=p[0],m=p[1],v=Object(a.useState)(!1),g=Object(j.a)(v,2),w=g[0],k=g[1],y=Object(a.useState)(""),A=Object(j.a)(y,2),N=A[0],C=A[1],z=Object(a.useState)(void 0),I=Object(j.a)(z,2),B=I[0],F=I[1],K=Object(a.useState)(!1),P=Object(j.a)(K,2),V=P[0],G=P[1],H=Object(a.useState)(0),J=Object(j.a)(H,2),U=J[0],Y=J[1],X=Object(a.useState)([]),q=Object(j.a)(X,2),$=q[0],Q=q[1],Z=Object(a.useState)(),ee=Object(j.a)(Z,2),te=ee[0],ne=ee[1],re=Object(a.useState)([]),ae=Object(j.a)(re,2),ce=ae[0],ie=ae[1],se=Object(a.useState)(""),oe=Object(j.a)(se,2),ue=oe[0],le=oe[1],be=function(){var e=Object(d.a)(b.a.mark((function e(t){var n,r,a,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(F(void 0),m(!1),a=null===(n=t.currentTarget)||void 0===n||null===(r=n.value)||void 0===r?void 0:r.trim(),f(a),a.length&&c.web3&&c.interfaceRepo){e.next=6;break}return e.abrupt("return");case 6:return 0===N.length&&c.web3.utils.isAddress(a)&&C(a),e.prev=7,e.next=10,c.interfaceRepo.loadAbi(a);case 10:i=e.sent,F(i),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(7),m(!0),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[7,14]])})));return function(t){return e.apply(this,arguments)}}(),de=Object(a.useCallback)(function(){var e=Object(d.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(B&&!(B.methods.length<=t)){e.next=2;break}return e.abrupt("return");case 2:Y(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[B]),je=Object(a.useCallback)(function(){var e=Object(d.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$[t]=n,Q($.slice());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[$]),fe=function(){return null===B||void 0===B?void 0:B.methods[U]},he=function(){var e=fe();return null===e||void 0===e?void 0:e.payable},pe=Object(a.useCallback)(Object(d.a)(b.a.mark((function e(){var t,n,r,a,i,s,o,u,l,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="",n="",r=c.web3){e.next=5;break}return e.abrupt("return");case 5:if(!(B&&B.methods.length>U)){e.next=19;break}for(a=B.methods[U],i=[],t=a.name+" (",s=0;s<a.inputs.length;s++)o=$[s]||"",i[s]="["===o.charAt(0)?JSON.parse(o.replace(/"/g,'"')):o,s>0&&(t+=", "),u=a.inputs[s],t+=(u.name||u.type)+": "+o;t+=")",e.prev=11,n=r.eth.abi.encodeFunctionCall(a,i),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(11),ne(e.t0.message),e.abrupt("return");case 19:try{l=r.utils.toChecksumAddress(N),d=ue.length>0?r.utils.toWei(ue):0,0===n.length&&(n="0x"),0===t.length&&(t="Transfer ".concat(d," ETH to ").concat(l)),ce.push({description:t,raw:{to:l,value:d,data:n}}),Q([]),ie(ce),Y(0),le("")}catch(b){console.error(b)}case 20:case"end":return e.stop()}}),e,null,[[11,15]])}))),[c,ce,N,ue,B,U,$]),xe=Object(a.useCallback)(function(){var e=Object(d.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=ce.slice()).splice(t,1),ie(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ce]),Oe=Object(a.useCallback)(Object(d.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ce.length){e.next=2;break}return e.abrupt("return");case 2:try{n.txs.send({txs:ce.map((function(e){return e.raw}))})}catch(t){console.error(t)}case 3:case"end":return e.stop()}}),e)}))),[n,ce]),me=function(){G(!1)},ve=function(e){return e.type.startsWith("tuple")?"tuple(".concat(e.components.map((function(e){return e.internalType})).toString(),")").concat(e.type.endsWith("[]")?"[]":""):e.type};return Object(r.jsxs)(S,{children:[Object(r.jsx)(W,{size:"sm",children:"Multisend transaction builder"}),Object(r.jsxs)(_,{size:"sm",children:["This app allows you to build a custom multisend transaction.",Object(r.jsx)("br",{}),"Enter a Ethereum contract address or ABI to get started.",Object(r.jsx)("br",{}),Object(r.jsx)(o.Link,{href:"https://help.gnosis-safe.io/en/articles/4680071-create-a-batched-transaction-with-the-transaction-builder-safe-app",size:"lg",target:"_blank",rel:"noreferrer",children:"Learn how to use the transaction builder."})]}),V&&ce.length>0&&Object(r.jsx)(o.GenericModal,{body:Object(r.jsx)(D,{txs:ce,deleteTx:xe}),onClose:me,title:"Send Transactions",footer:Object(r.jsx)(o.ModalFooterConfirmation,{handleOk:function(){Oe(),ie([]),G(!1)},handleCancel:me})}),Object(r.jsx)(o.TextField,{value:l,label:"Enter Contract Address or ABI",onChange:be}),O&&Object(r.jsx)(o.Text,{color:"error",size:"lg",children:"There was a problem trying to load the ABI"}),B&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.Title,{size:"xs",children:"Transaction information"}),!(null===B||void 0===B?void 0:B.methods.length)&&Object(r.jsx)(o.Text,{size:"lg",children:"Contract ABI doesn't have any public methods."}),(he()||B.methods.length>0)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.TextField,{style:{marginTop:10},value:N,label:"To Address",onChange:function(e){return C(e.target.value)}}),Object(r.jsx)("br",{})]}),he()&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(o.TextField,{style:{marginTop:10,marginBottom:10},value:ue,label:"ETH",onChange:function(e){return le(e.target.value)}}),Object(r.jsx)("br",{})]}),Object(r.jsxs)(r.Fragment,{children:[B.methods.length>0&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("br",{}),Object(r.jsx)(M,{items:B.methods.map((function(e,t){return{id:t.toString(),label:e.name}})),activeItemId:U.toString(),onItemClick:function(e){ne(void 0),de(Number(e))}}),Object(r.jsxs)(L,{children:[Object(r.jsx)(o.ButtonLink,{color:"primary",onClick:function(){return k((function(e){return!e}))},children:w?"Hide Examples":"Show Examples"}),w&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["string ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:"some value"})]}),Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["uint256 ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:"123"})]}),Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["address ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:"0xDe75665F3BE46D696e5579628fA17b662e6fC04e"})]}),Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["array ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:"[1,2,3]"})]}),Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["Tuple(uint256, string) ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:'[1, "someValue"]'})]}),Object(r.jsxs)(o.Text,{size:"sm",strong:!0,children:["Tuple(uint256, string)[] ","> ",Object(r.jsx)(o.Text,{size:"sm",as:"span",children:'[[1, "someValue"], [2, "someOtherValue"]]'})]})]})]})]}),null===(e=fe())||void 0===e?void 0:e.inputs.map((function(e,t){return Object(r.jsxs)("div",{children:[Object(r.jsx)(o.TextField,{style:{marginTop:10},value:$[t]||"",label:"".concat(e.name||"","(").concat(ve(e),")"),onChange:function(e){ne(void 0),je(t,e.target.value)}}),Object(r.jsx)("br",{})]},t)})),te&&Object(r.jsx)(o.Text,{size:"lg",color:"error",children:te})]}),Object(r.jsx)("br",{}),Object(r.jsxs)(R,{children:[he()||B.methods.length>0?Object(r.jsx)(o.Button,{size:"md",color:"primary",onClick:function(){return pe()},children:"Add transaction"}):Object(r.jsx)("div",{}),Object(r.jsx)(o.Button,{size:"md",disabled:!ce.length,variant:"contained",color:"primary",onClick:function(){return G(!0)},children:"Send Transactions ".concat(ce.length?"(".concat(ce.length,")"):"")})]})]})]})},P=n(333),V=n(334);function G(){var e=Object(f.a)(["\n    html {\n        height: 100%\n    }\n\n    body {\n       height: 100%;\n       margin: 0px;\n       padding: 0px;\n    }\n\n    #root {\n        height: 100%;\n    }\n\n    @font-face {\n        font-family: 'Averta';\n        src: local('Averta'), local('Averta Bold'),\n        url(",") format('woff2'),\n        url(",") format('woff');\n    }\n"]);return G=function(){return e},e}var H=Object(s.createGlobalStyle)(G(),P.a,V.a);i.a.render(Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(H,{}),Object(r.jsx)(s.ThemeProvider,{theme:o.theme,children:Object(r.jsx)(u.SafeProvider,{children:Object(r.jsx)(K,{})})})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[701,1,2]]]);
//# sourceMappingURL=main.09801f83.chunk.js.map